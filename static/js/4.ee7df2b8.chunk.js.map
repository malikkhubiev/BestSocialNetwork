{"version":3,"sources":["components/Users/Users.module.css","components/Users/UsersItem/UserItem.module.css","images/preloader.gif","components/common/Preloader/Preloader.tsx","components/common/Selectors/users-selectors.ts","components/Users/UsersItem/UserItem.tsx","components/Users/UsersSearchForm/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersComponent.tsx"],"names":["module","exports","Preloader","alt","style","position","transform","top","left","src","preloader","getAllUsers","state","usersPage","users","getTotalUsersCount","totalUsersCount","getPageSize","pageSize","getCurrentPage","currentPage","getIsFetching","isFetching","getFilter","filter","UserItem","props","className","styles","to","pathCreator","id","image","name","isAuth","followed","button","onClick","unFollow","follow","UsersSearchForm","React","memo","initialValues","term","friends","onSubmit","values","setSubmitting","setFilter","isSubmitting","form","input","type","placeholder","select","as","value","disabled","Users","useSelector","getIsAuth","dispatch","useDispatch","myFollow","myUnFollow","pagesCount","Math","ceil","firstUser","lastUser","currentUsers","slice","pages","i","push","sectionUsers","myGetUsers","UsersList","length","map","asd","key","sectionUsersList","n","bold","pageNumber","sectionUsersListLi","UsersComponent","getUsers","useEffect"],"mappings":"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","file":"static/js/4.ee7df2b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionUsers\":\"Users_sectionUsers__2Sliz\",\"UsersList\":\"Users_UsersList__1nyiz\",\"sectionUsersList\":\"Users_sectionUsersList__271At\",\"sectionUsersListLi\":\"Users_sectionUsersListLi__hUydY\",\"bold\":\"Users_bold__1vKRU\",\"preloaderImg\":\"Users_preloaderImg__7bDw1\",\"form\":\"Users_form__1ZwAP\",\"select\":\"Users_select__2V54t\",\"input\":\"Users_input__2dbqN\",\"button\":\"Users_button__vIQ7y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserItem\":\"UserItem_UserItem__Vfj6M\",\"image\":\"UserItem_image__1Zwaz\",\"name\":\"UserItem_name__37xhi\",\"button\":\"UserItem_button__3-UKP\"};","export default __webpack_public_path__ + \"static/media/preloader.0b960412.gif\";","import React from 'react';\r\nimport preloader from './../../../images/preloader.gif';\r\n\r\nexport const Preloader = () => {\r\n    return(\r\n        <img alt={'loading'} style={{position: 'absolute', transform: 'translate(-50%)', top: '50%', left: '50%'}} src={preloader} />\r\n    )\r\n}","import { StateType } from './../../../redux/redux-store';\r\n\r\nexport const getAllUsers = (state:StateType) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getTotalUsersCount = (state:StateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getPageSize = (state:StateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getCurrentPage = (state:StateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state:StateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFilter = (state:StateType) => {\r\n    return state.usersPage.filter;\r\n}","import React from 'react'\r\nimport styles from './UserItem.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\ntype PropsType = {\r\n    id: number\r\n    pathCreator: (id:number) => string \r\n    name: string\r\n    isAuth: boolean \r\n    followed: boolean \r\n    follow: (id:number) => void \r\n    unFollow: (id:number) => void \r\n}\r\n\r\nexport const UserItem: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={styles.UserItem}>\r\n            <NavLink to={props.pathCreator(props.id)}><div className={styles.image}></div></NavLink>\r\n            <p className={styles.name}>{props.name}</p>\r\n            {props.isAuth\r\n            ?\r\n            props.followed ? <button className={styles.button} onClick={() => { props.unFollow(props.id) }}>Unfollow</button> : <button className={styles.button} onClick={() => { props.follow(props.id) }}>Follow</button>\r\n            :\r\n            \"\"\r\n            }\r\n        </div>\r\n    )\r\n}","import { Field, Form, Formik } from \"formik\"\r\nimport React from \"react\"\r\nimport { FilterType } from \"../../../redux/users-reducer\"\r\nimport style from \"./../Users.module.css\"\r\n\r\ntype UsersSearchFormDataType = {\r\n    term: string\r\n    friends: string | boolean | null\r\n}\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    filter: FilterType\r\n    setFilter: (filter: FilterType) => void\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n\r\n    const submit = (values: UsersSearchFormDataType, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }): void => {\r\n        if (values.friends === \"null\") values.friends = null\r\n        if (values.friends === \"true\") values.friends = true\r\n        if (values.friends === \"false\") values.friends = false\r\n        props.setFilter({ term: values.term, friends: values.friends as boolean | null })\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{ term: props.filter.term || \"\", friends: props.filter.friends }}\r\n            onSubmit={submit}\r\n        >\r\n            {({ isSubmitting }) => (\r\n                <Form className={style.form}>\r\n                    <Field className={style.input} type=\"text\" name=\"term\" placeholder=\"Name should have:\" />\r\n                    {props.isAuth\r\n                    ?\r\n                    <Field className={style.select} as=\"select\" name=\"friends\">\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only friends</option>\r\n                        <option value=\"false\">Only not friends</option>\r\n                    </Field>\r\n                    :\r\n                    \"\"\r\n                    }\r\n                    <button className={style.button} type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n})","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FilterType, follow, unFollow } from '../../redux/users-reducer'\r\nimport { getIsAuth } from '../common/Selectors/auth-selectors'\r\nimport { getAllUsers, getCurrentPage, getFilter, getPageSize, getTotalUsersCount } from '../common/Selectors/users-selectors'\r\nimport styles from './Users.module.css'\r\nimport { UserItem } from './UsersItem/UserItem'\r\nimport { UsersSearchForm } from './UsersSearchForm/UsersSearchForm'\r\n\r\ntype PropsType = {\r\n    myGetUsers: (pageNumber: number, filter: FilterType | {}) => void\r\n}\r\n\r\nexport const Users: React.FC<PropsType> = (props) => {\r\n\r\n    let isAuth = useSelector(getIsAuth)\r\n    let users = useSelector(getAllUsers)\r\n    let totalUsersCount = useSelector(getTotalUsersCount)\r\n    let pageSize = useSelector(getPageSize)\r\n    let currentPage = useSelector(getCurrentPage)\r\n    let filter = useSelector(getFilter)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const myFollow = (id: number) => { dispatch(follow(id)) }\r\n    const myUnFollow = (id: number) => { dispatch(unFollow(id)) }\r\n    const setCurrentPage = (pageNumber: number) => { props.myGetUsers(pageNumber, {}) }\r\n    const setFilter = (filter: FilterType) => { props.myGetUsers(1, filter) }\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let firstUser = currentPage * pageSize - 10\r\n    let lastUser = currentPage * pageSize\r\n    let currentUsers = users.slice(firstUser, lastUser)\r\n    let pages = []\r\n\r\n    for (let i: number = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let pathCreator = (id: number) => `/profile/${id}`\r\n\r\n    return (\r\n        <div className={styles.sectionUsers}>\r\n            <UsersSearchForm isAuth={isAuth} filter={filter} setFilter={setFilter} />\r\n            <div className={styles.UsersList}>{\r\n                currentUsers.length !== 0\r\n                    ?\r\n                    currentUsers.map((asd) => <UserItem isAuth={isAuth} pathCreator={pathCreator} follow={myFollow} unFollow={myUnFollow} key={asd.id} id={asd.id} name={asd.name} followed={asd.followed} />)\r\n                    :\r\n                    <p>There are no users with such parameters</p>\r\n            }</div>\r\n            <ul className={styles.sectionUsersList}>\r\n                {pages.map(n => {\r\n                    return currentPage === n ? <li key={n} className={styles.bold}>{n}</li> : <li key={n} onClick={() => setCurrentPage(n)} className={styles.sectionUsersListLi}>{n}</li>\r\n                })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FilterType, getUsers } from '../../redux/users-reducer'\r\nimport { Preloader } from '../common/Preloader/Preloader'\r\nimport { getIsFetching } from '../common/Selectors/users-selectors'\r\nimport { Users } from './Users'\r\n\r\nconst UsersComponent: React.FC<{}> = (props) => {\r\n\r\n    let isFetching = useSelector(getIsFetching)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const myGetUsers = (pageNumber: number, filter: FilterType | {}) => { dispatch(getUsers(pageNumber, filter)) }\r\n\r\n    useEffect(() => {\r\n        myGetUsers(1, {})\r\n    }, []);\r\n\r\n    return (\r\n        isFetching ? <Preloader /> : <Users myGetUsers={myGetUsers} />\r\n    )\r\n}\r\n\r\nexport default UsersComponent;"],"sourceRoot":""}